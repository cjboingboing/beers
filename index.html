<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dr. Beers' Office</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 50px;
            background-color: #f4f4f4;
            color: #333;
        }
        #message {
            margin-top: 20px;
        }
        #dots {
            margin-top: 10px;
            font-size: 2em;
        }
        #beerImage {
            margin-top: 20px;
            width: 400px;  /* Set the width of the image */
            display: none;  /* Initially hide the image */
        }
        #commitments {
            margin-top: 30px;
            border-top: 2px solid #333;
            padding-top: 20px;
        }
        .commitment {
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <h1>Dr. Beers asks:</h1>
    <p>Hey mate, what's your name and how many beers are you drinking this weekend?</p>
    
    <input type="text" id="userName" placeholder="Enter your name"><br><br>
    <input type="number" id="beerCount" placeholder="Enter number of beers"><br><br>
    <button onclick="theBeers()">Submit</button>

    <div id="message"></div>
    <div id="dots"></div>
    <img id="beerImage" src="" alt="Beer image"> <!-- Image element -->

    <!-- Section to display the beer commitments -->
    <div id="commitments">
        <h2>Beer Commitments:</h2>
        <div id="commitmentList"></div> <!-- Dynamic list of commitments -->
    </div>

    <script>
        // ArrayList equivalent in JavaScript to store swear words
        const swearWords = [];
        // The swears list you provided
        const swears = [
            "arsehead", "arsehole", "ass", "ass hole", "asshole", "Bastard", "bitch", "bloody", "bollocks",
            "brotherfucker", "bugger", "bullshit", "Cunt", "child-fucker", "Christ on a bike", "Christ on a cracker",
            "cocksucker", "crap", "cunt", "dammit", "damn", "dickhead", "dickhole", "dumb ass", "dumb-ass",
            "dumbass", "dyke", "fuck", "fucker", "fucking", "God dammit", "god damn", "God damned",
            "goddamnit", "godsdamn", "Hell", "holy shit", "horseshit", "in shit", "IQ", "jackass",
            "jackarse", "jesus christ", "Jesus fuck", "Jesus H. Christ", "Jesus Harold Christ",
            "Jesus, Mary and Joseph", "Jesus wept", "kike", "motherfucker", "mother-fucker",
            "nigra", "pigfucker", "piss", "prick", "pussy", "sibling fucker", "sisterfuck", "sisterfucker",
            "slut", "son of a bitch", "son of a whore", "spastic", "sweet Jesus", "twat", "Wanker"
        ];

        // Add each swear word from the array into the swearWords list
        swears.forEach(swear => {
            swearWords.push(swear);
        });

        // Array to store all commitments
        let commitments = [];

        function theBeers() {
            var name = document.getElementById('userName').value || 'Anonymous';  // Default to "Anonymous" if no name
            var beers = parseInt(document.getElementById('beerCount').value); 
            var message = document.getElementById('message');
            var dots = document.getElementById('dots');
            var beerImage = document.getElementById('beerImage');
            dots.innerHTML = '';  // Clear previous dots

            // Check if the name contains inappropriate language
            if (containsSwearWord(name)) {
                message.innerHTML = 'Inappropriate username. Please enter a different name.';
                return; // Stop the function if the name is inappropriate
            }

            // Get the current date and time
            var currentDateTime = new Date();
            var formattedDateTime = currentDateTime.toLocaleString(); // Format as local date and time

            if (isNaN(beers) || beers % 1 !== 0) {  // Check if beers is not an integer
                message.innerHTML = 'Sorry ' + name + ', you can\'t drink a fraction worth of beer.<br> Try again muscles';
                return;
            }

            // Add commitment to the array
            commitments.push({
                name: name,
                beers: beers,
                date: formattedDateTime
            });

            // Display the updated commitment list
            displayCommitments();

            // Show personalized message based on the beer count
            if (beers >= 1000000) {
                message.innerHTML = 'Oath cunt, ' + name + '! You\'re ready for a million beers!';
                beerImage.src = 'happybeer.webp';  // You can replace this with the path to the happy beer image
                beerImage.style.display = 'block';  // Show the image if beers >= 1000000
            } else {
                message.innerHTML = 'Sorry ' + name + ', not enough.<br>You must drink a million beers. Try again yeah?';
                beerImage.src = 'sadbeer.webp';  // Set the sad beer image when beers < 1,000,000
                beerImage.style.display = 'block';  // Show the sad beer image
            }
        }

        // Function to check if the name contains any swear words
        function containsSwearWord(name) {
            var lowerCaseName = name.toLowerCase(); // Make the name lowercase for case-insensitive comparison
            for (let i = 0; i < swearWords.length; i++) {
                if (lowerCaseName.includes(swearWords[i].toLowerCase())) {
                    return true;
                }
            }
            return false;
        }

        // Function to display the commitments on the website
        function displayCommitments() {
            var commitmentList = document.getElementById('commitmentList');
            commitmentList.innerHTML = '';  // Clear the previous list

            commitments.forEach(function(commitment) {
                // Create a div for each commitment
                var commitmentDiv = document.createElement('div');
                commitmentDiv.className = 'commitment';
                commitmentDiv.innerHTML = `${commitment.name} committed to drink ${commitment.beers} beers on ${commitment.date}`;
                commitmentList.appendChild(commitmentDiv);
            });
        }
    </script>
</body>
</html>
